import { createPublicClient, http } from 'viem'
import { mainnet } from 'viem/chains'

import { type Transaction, activityFromTx } from '../src/utils/activityFromTx'

const client = createPublicClient({
  chain: mainnet,
  transport: http(process.env.RPC_ENDPOINT),
})

async function go(hash: `0x${string}`) {
  const transaction = await client.getTransaction({ hash })
  const receipt = await client.getTransactionReceipt({ hash })
  const activity = await activityFromTx(
    transaction as Transaction,
    receipt.logs,
  )
  console.log(activity)
}

// go('0x3e93291c39898d8df1fff50b0ae973b24ad779510b1c7a9bc6bf6d76111cacb1') // Curve
// go('0x85d28ac8e7e620bb0c9b1c4be4397e09d02ae626ee7f63d018ecd97fa489f9c9') // Zapper
// go('0xe0b1bba59fc6d97c34a7f8622defff3e880f4b20f2d77ebe4f605cf9308557b1') // Dapp
// go('0x6c4ed40d7d0dfdf47e36cc7fcc0d9e5d009b882cf5a71e17158a4ae317ecdbf0') // Dapp
// go('0x892e72b2f5236fb72ed8293b36324d645eccf5794ff5213848df5d29613d85d9') // Dapp
// go('0x75b864edd1ac15678ddee788b7d27f70248e6a5f835328223167757e705328a0') // Dapp
// go('0x09fdafc7e32550140a29e6198c6a02aa55144120c25012a031b6fac4a430e9ba') // Dapp
// go('0xfa6b3593a844f7d4513575b748e335a51731d10538c66068f5307a8b461759ad') // Dapp Wrap OETH

go('0xd3705c324d3e59545a21eb9773108cbb266631251484ace5016b59c25719a02a')
// 0x11c2550a88f84410a0aa284a784b47a974ec7afc998b6621e1f60c6d104e2594
// 0x34825eec4a4265005ea6a26c869ea2e1013fefc10ad0edf7a192367af6b8bb4d
// 0x84d5f98f5e4d7245b5985644899f047304607d57c7f20dea38391a427dd2d733
// 0x751cb0731fb5a85be8adf1d11413268907858f34fe4f6a320ce9652d5e091c61
// 0x7d351224466f0f89887a9a85c84a92a127f48040d4796aba4e88b0d14a6b7235
// 0xd3705c324d3e59545a21eb9773108cbb266631251484ace5016b59c25719a02a
// 0x0c09d902f8d19c52a51a8b605b632f8ab1ffb9aa2946b23cbf6c5cdce00132b8
// 0xa9da4be93391dc96c31c0a5c489f2998166080d833e5f6245d449fc18860987d
// 0x812ba3bd35f2b15b3faf6069e67137090190092ff285adedc6033d7fe2154a74
// 0x3e9f853ed89b976436fe6b6efcc19a6b0cec6e58a1cc580e16d52b3b069b7557
// 0x82552763d54595b5bc8e1fbbfc3903f65937d75230ca19e49f40461e6cfce6cb
// 0xefed2c67cc065953886a78c33c5203ebda7c0ae320e6eca0f1f85106925a4bb5
// 0xd353f30adb388de36390bafe3d047cfc46f505f583e23c45f670b49eb27fcc21
// 0x4934ba50327c192b81553f2b008fcb1f7baa869130bcf04eca4cd502f163784e
// 0xdd6d9588f22e3eaec641473a213ef3f5ccdeb41d2dbc688aba8f143cc3c72560
// 0xe5b40cd306b50a4ea74e9b601ccc8e8a8014903f3aea175a3035e195f51bd7e3
// 0x2bb1f5e4c2e9b9b4c39bbf532f20235b0c3bb0618d3778354dcd1c48ca9268e3
// 0xed8517af15354298db9d7855dbdc996e5c861fc46f5492434e5342e93fc9df70
// 0xa75f170aae9477f747ed28c1d3b2fb4617eed939185753b1fe57e7423e259f2d
// 0xc4e2db53efc4d94ee45f8e91d9e54dfe4eb334692304d5e5961255c34487839d
// 0x22aeb39135346bf8a7e68c9c5e2324ae5ce31c5f5e483c81543ff1ea95311368
// 0xd38cfe0f301ae0a7c3d522fde6a69686c790cefd787d57060ba793195411c659
// 0xa5e2e9769ad66ca81dc9f22dd78db9953d6a43639063ff424fc504fff43f975b
// 0x0d82b3357ffee2c3773f690a9fbd0c5c5930507e95e654390d225727d71b0d38
// 0xc8919aa87ac6b46f1ecaaa1e74c4fa0362e0d56c246618cf7b86da601b9ebb7d
// 0x8fa021b6c46a5ca1d1fe82bc94ceb045d3c928dc45eca7ab2add7e62c6d6900b
// 0x5385e06b9ea69ec860007e7117eb0234253c65c681f69e28b73bf86593f25dd6
// 0xe8080694d628f5016d8850368677e4b299811199bc4074243c4e7983772c60c8
// 0xc5069c736ff1aaaf8334c5e3d80c4d2a5c60673782a36fd2494a8c63fc5085f6
// 0xa868afa7ea8321040373d5e7db8ebd14408559ce621158c7b684aa262c3bb370
// 0x332d1e37280b9ae63b5a1516bcd6f23e99dd2b6a3b08dde1021ff1ed99927b02
// 0x248436c3864b176ab1891b8751e2a66d863b4594d8932c2bc17115c2f6b0f422
// 0x75350e67dda0c47c968ea614f9f664b11f672121d1ab9b6f80f1409d579630c5
// 0x601a4985b0f3988be459b25f4a07d0607b0ab67fb5e472ea83c1af1fa4ce0ce4

// 497 | 0x94b17476a93b3262d87b9a326965d1e91f9c13e7 Curve OETH
// 401 | 0x9858e47bcbbe6fbac040519b02d7cd4b2c470c66 OETH Zapper
// 210 | 0x3fc91a3afd70395cd496c647d5a6cc9d4b2b7fad Uniswap Router
// 197 | 0x02777053d6764996e594c3e88af1d58d5363a2e6 Keeper Registry
// 149 | 0x39254033945aa2e4809cc2977e7087bee48bd7ab OETH Vault
// 145 | 0x0000000001e4ef00d069e71d6ba041b0a16f7ea0 Pendle
// 126 | 0x99a58482bd75cbab83b27ec03ca68ff489b5788f Curve registry
// 113 | 0xdcee70654261af21c44c093c300ed3bb97b78192 Wrapped OETH
// 113 | 0x9008d19f58aabd9ed0d60971565aa8510560ab41 Gnosis Settlement
// 107 | 0x856c4efb76c1d1ae02e20ceb03a2a6a08b0b8dc3 OETH
//  80 | 0x1111111254eeb25477b68fb85ed929f73a960582 1inch
//  66 | 0x24902aa0cf0000a08c0ea0b003b0c0bf600000e0 # ? Mev?
//  57 | 0xad3b67bca8935cb510c8d18bd45f0b94f54a968f # ? 1inch Mev?
//  54 | 0xdef171fe48cf0115b1d80b88dc8eab59176fee57 Paraswap
//  50 | 0xf14bbdf064e3f67f51cd9bd646ae3716ad938fdc # Gnosis Safe
//  50 | 0x0000000000a84d1a9b0063a910315c7ffa9cd248 # ? Mev?
//  45 | 0x881d40237659c251811cec9c364ef91dc08d300c MetaMask Swap
//  39 | 0x6e3fddab68bf1ebaf9dacf9f7907c7bc0951d1dc # Gnosis Safe
//  38 | 0xdef1c0ded9bec7f1a1670819833240f027b25eff ZeroEx
//  29 | 0x70fce97d671e81080ca3ab4cc7a59aac2e117137 # Gnosis Safe
//  21 | 0xfd0000000100069ad1670066004306009b487ad7 # ? Mev?
//  21 | 0xd1742b3c4fbb096990c8950fa635aec75b30781a Seawise
//  19 | 0xd19dc09880685dd8cf60687d57936358582876b5 # ?
//  19 | 0xf0d4c12a5768d806021f80a262b4d39d26c58b8d Curve router
//  18 | 0xfa0bbb0a5815f6648241c9221027b70914dd8949 Curve Swap
//  17 | 0x53facee52e897740b140f5304e9cd9dc6238d735 # ?
//  15 | 0x0090eb43008a030065000000e70099482c00b6df # ? Mev?
//  15 | 0xc11ce44147c9f6149fbe54adb0588523c38718d7 # ? Mev?
//  12 | 0xcb3702bc25b0f284b032e5edf1a1ebea2fe43255 # ? Mev?
//  12 | 0x7d32c90762e22379235fc311fdb16fab399ed40a
//  11 | 0xef1c6e67703c7bd7107eed8303fbe6ec2554bf6b
//  11 | 0xecb456ea5365865ebab8a2661b0c503410e9b347
//  11 | 0x507888e987257a8dde6f8afa46375cefe2cbf504
//  10 | 0x6352a56caadc4f1e25cd6c75970fa768a3304e64
//  10 | 0x6b75d8af000000e20b7a7ddf000ba900b4009a80
//   9 | 0x0693e566e00d95edea67deb414e49c17768d6596
//   9 | 0x462206b11d185ef6f64b41d344325401c37ec335
//   8 | 0x4f1cdf43f5e407abd569878976960d4d0a3d3452
//   7 | 0xa88800cd213da5ae406ce248380802bd53b47647
//   7 | 0x493f461aead031cee2027f1b95370a692611acb9
//   6 | 0x00000000009e50a7ddb7a7b0e2ee6604fd120e49
//   6 | 0xa80db00007020e013fa10d0560700c0018003b8b
//   6 | 0x30ea35bf5dbe2b80fc2438418848a53a0b194e3b
//   6 | 0x12b6eba545e4a9666cb7a77d1da25df9ffb172f3
//   5 | 0x95ca391fb08f612dc6b0cbddcb6708c21d5a8295
//   5 | 0x000b30cccc05f85c45349a6f462c681542c0afe4
//   5 | 0xba3f5c056500ce033e9d74494b820d495efcf19d
//   5 | 0xcddc0f6053432de3dd0f8db3786d696fffc3a860
//   4 | 0x00fc00900000002c00be4ef8f49c000211000c43
//   4 | 0x247b69f78d2a590bec1ac0a4a4066debe3fca2b8
