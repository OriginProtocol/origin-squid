import { createPublicClient, http } from 'viem'
import { mainnet } from 'viem/chains'

import { type Transaction, activityFromTx } from '../src/utils/activityFromTx'

const client = createPublicClient({
  chain: mainnet,
  transport: http(process.env.RPC_ENDPOINT),
})

async function go(hash: `0x${string}`) {
  const transaction = await client.getTransaction({ hash })
  // const receipt = await client.getTransactionReceipt({ hash })
  const activity = await activityFromTx(transaction as Transaction) //, receipt.logs)
  console.log(activity)
}

// go('0x3e93291c39898d8df1fff50b0ae973b24ad779510b1c7a9bc6bf6d76111cacb1') // Curve
// go('0x85d28ac8e7e620bb0c9b1c4be4397e09d02ae626ee7f63d018ecd97fa489f9c9') // Zapper
// go('0xe0b1bba59fc6d97c34a7f8622defff3e880f4b20f2d77ebe4f605cf9308557b1') // Dapp
// go('0x6c4ed40d7d0dfdf47e36cc7fcc0d9e5d009b882cf5a71e17158a4ae317ecdbf0') // Dapp
// go('0x892e72b2f5236fb72ed8293b36324d645eccf5794ff5213848df5d29613d85d9') // Dapp
// go('0x75b864edd1ac15678ddee788b7d27f70248e6a5f835328223167757e705328a0') // Dapp
// go('0x09fdafc7e32550140a29e6198c6a02aa55144120c25012a031b6fac4a430e9ba') // Dapp
// go('0xfa6b3593a844f7d4513575b748e335a51731d10538c66068f5307a8b461759ad') // Dapp Wrap OETH

go('0x3f33526f008985e72c5b529f95f6ed4e1014f62ea1b00f22e14063768e497a4d')
// 0x11c2550a88f84410a0aa284a784b47a974ec7afc998b6621e1f60c6d104e2594
// 0x34825eec4a4265005ea6a26c869ea2e1013fefc10ad0edf7a192367af6b8bb4d
// 0x84d5f98f5e4d7245b5985644899f047304607d57c7f20dea38391a427dd2d733
// 0x751cb0731fb5a85be8adf1d11413268907858f34fe4f6a320ce9652d5e091c61
// 0x7d351224466f0f89887a9a85c84a92a127f48040d4796aba4e88b0d14a6b7235
// 0xd3705c324d3e59545a21eb9773108cbb266631251484ace5016b59c25719a02a
// 0x0c09d902f8d19c52a51a8b605b632f8ab1ffb9aa2946b23cbf6c5cdce00132b8
// 0xa9da4be93391dc96c31c0a5c489f2998166080d833e5f6245d449fc18860987d
// 0x812ba3bd35f2b15b3faf6069e67137090190092ff285adedc6033d7fe2154a74
// 0x3e9f853ed89b976436fe6b6efcc19a6b0cec6e58a1cc580e16d52b3b069b7557
// 0x82552763d54595b5bc8e1fbbfc3903f65937d75230ca19e49f40461e6cfce6cb
// 0xefed2c67cc065953886a78c33c5203ebda7c0ae320e6eca0f1f85106925a4bb5
// 0xd353f30adb388de36390bafe3d047cfc46f505f583e23c45f670b49eb27fcc21
// 0x4934ba50327c192b81553f2b008fcb1f7baa869130bcf04eca4cd502f163784e
// 0xdd6d9588f22e3eaec641473a213ef3f5ccdeb41d2dbc688aba8f143cc3c72560
// 0xe5b40cd306b50a4ea74e9b601ccc8e8a8014903f3aea175a3035e195f51bd7e3
// 0x2bb1f5e4c2e9b9b4c39bbf532f20235b0c3bb0618d3778354dcd1c48ca9268e3
// 0xed8517af15354298db9d7855dbdc996e5c861fc46f5492434e5342e93fc9df70
// 0xa75f170aae9477f747ed28c1d3b2fb4617eed939185753b1fe57e7423e259f2d
// 0xc4e2db53efc4d94ee45f8e91d9e54dfe4eb334692304d5e5961255c34487839d
// 0x22aeb39135346bf8a7e68c9c5e2324ae5ce31c5f5e483c81543ff1ea95311368
// 0xd38cfe0f301ae0a7c3d522fde6a69686c790cefd787d57060ba793195411c659
// 0xa5e2e9769ad66ca81dc9f22dd78db9953d6a43639063ff424fc504fff43f975b
// 0x0d82b3357ffee2c3773f690a9fbd0c5c5930507e95e654390d225727d71b0d38
// 0xc8919aa87ac6b46f1ecaaa1e74c4fa0362e0d56c246618cf7b86da601b9ebb7d
// 0x8fa021b6c46a5ca1d1fe82bc94ceb045d3c928dc45eca7ab2add7e62c6d6900b
// 0x5385e06b9ea69ec860007e7117eb0234253c65c681f69e28b73bf86593f25dd6
// 0xe8080694d628f5016d8850368677e4b299811199bc4074243c4e7983772c60c8
// 0xc5069c736ff1aaaf8334c5e3d80c4d2a5c60673782a36fd2494a8c63fc5085f6
// 0xa868afa7ea8321040373d5e7db8ebd14408559ce621158c7b684aa262c3bb370
// 0x332d1e37280b9ae63b5a1516bcd6f23e99dd2b6a3b08dde1021ff1ed99927b02
// 0x248436c3864b176ab1891b8751e2a66d863b4594d8932c2bc17115c2f6b0f422
// 0x75350e67dda0c47c968ea614f9f664b11f672121d1ab9b6f80f1409d579630c5
// 0x601a4985b0f3988be459b25f4a07d0607b0ab67fb5e472ea83c1af1fa4ce0ce4